{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/const.ts","webpack:///./src/instance.ts","webpack:///./src/index.ts","webpack:///./src/InputFollowMethod.ts","webpack:///./src/InputFollowModel.ts","webpack:///./src/InputFollow.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","IS_VALID","IS_LIMIT","instance","$","fn","extend","inputfollow","param","this","length","method","data","index","get_collection","get_index","push_collection","init","target","error_class","valid_class","initial_error_view","on_validate","on_success","on_error","model","on","set_initial_error_view","validate_all","get_errors","isFunction","get_error_mes","rules","set_rules","messages","set_messages","set_error_class","set_valid_class","set_on_validate","set_on_success","set_on_error","set_event","func","that","get_wrap","find","off","validate_before","validate","is","val","get_caret_pos","set_errors","set_error_mes","each","get_target","get_rules","rule","sub_target_rules","flag","check","error","hasErrorTarget","err_id","replace","err_target","filter","attr","Array","isArray","map","tcheck","check_rules","push","check_handler","get_messages","type","targets","toggle_error_visible","text","addClass","remove","increment_errors","push_error_mes","removeClass","eq","after","id","class","sv","with","stv","if","keys","handler","get_method","toLowerCase","reset","reset_rules","wrap","errors","error_mes","increment","filter_target","initialize_target","targetRule","reset_rule","parent","enable_focus_flag","element","RegExp","test","getAttribute","focusTarget","collection","required","email","number","code","check_method_required","check_method_email","check_method_number","check_method_code","org","String","fromCharCode","charCodeAt","change_caret_pos","pos","undefined","document","selection","range","createTextRange","move","select","setSelectionRange","e","createRange","tmp","moveToElementText","setEndPoint","selectionStart","split_related_rules","split","join","slice"],"mappings":"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","file":"jquery.inputfollow.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","export const IS_VALID = true\nexport const IS_LIMIT = false\n","import InputFollow from './InputFollow'\n\nconst instance = new InputFollow()\nexport default instance\n","/**\n * jquery.inputfollow.js\n *\n * @version 2.0.0\n * @author SUSH <sush@sus-happy.ner>\n * https://github.com/sus-happy/jquery.inputfollow.js\n */\n\nimport { InitialParam } from './types'\nimport InputFollowMethod from './InputFollowMethod'\nimport inputFollow from './instance'\n\n$.fn.extend({\n  inputfollow: function(param: InitialParam) {\n    const target = this as HTMLElement\n\n    if (!$(target).length) {\n      return\n    }\n    let method: InputFollowMethod\n\n    if (!$(target).data('inputfollow_id')) {\n      const index = inputFollow.get_index()\n      $(target).data('inputfollow_id', index)\n\n      method = new InputFollowMethod($(target), index)\n      inputFollow.push_collection(index, method)\n    } else {\n      const index = $(target).data('inputfollow_id')\n      method = inputFollow.get_collection(index)\n    }\n\n    if (param && method !== null) {\n      method.init(param)\n    }\n\n    return method\n  }\n})\n","import { InitialParam, Rule, Message, RuleOption, Target } from './types'\nimport { IS_LIMIT, IS_VALID } from './const'\nimport InputFollowModel from './InputFollowModel'\nimport inputFollow from './instance'\n\nexport default class InputFollowMethod {\n  private index: number = 0\n  private model: InputFollowModel\n  private error_class: string = 'error'\n  private valid_class: string = 'valid'\n  private initial_error_view: boolean = false\n  private on_validate: Function = () => {}\n  private on_success: Function = () => {}\n  private on_error: Function = () => {}\n\n  constructor(target: JQuery<HTMLElement>, index: number) {\n    this.model = new InputFollowModel(target)\n    this.index = index\n\n    target.on('submit', () => {\n      this.set_initial_error_view(true)\n      this.validate_all()\n\n      if (this.model.get_errors() <= 0) {\n        if ($.isFunction(this.on_success)) {\n          this.on_success()\n        }\n        return true\n      } else {\n        if ($.isFunction(this.on_error)) {\n          this.on_error(this.model.get_error_mes())\n        }\n        return false\n      }\n    })\n  }\n\n  init(param: InitialParam) {\n    if (param.hasOwnProperty('rules') && param.rules) {\n      this.set_rules(param.rules)\n    }\n    if (param.hasOwnProperty('messages') && param.messages) {\n      this.set_messages(param.messages)\n    }\n    if (param.hasOwnProperty('error_class') && param.error_class) {\n      this.set_error_class(param.error_class)\n    }\n    if (param.hasOwnProperty('valid_class') && param.valid_class) {\n      this.set_valid_class(param.valid_class)\n    }\n    if (\n      param.hasOwnProperty('initial_error_view') &&\n      param.initial_error_view\n    ) {\n      this.set_initial_error_view(param.initial_error_view)\n    }\n    if (param.hasOwnProperty('on_validate') && param.on_validate) {\n      this.set_on_validate(param.on_validate)\n    }\n    if (param.hasOwnProperty('on_success') && param.on_success) {\n      this.set_on_success(param.on_success)\n    }\n    if (param.hasOwnProperty('on_error') && param.on_error) {\n      this.set_on_error(param.on_error)\n    }\n\n    this.set_event()\n    this.validate_all()\n  }\n\n  set_rules(rules: Rule) {\n    this.model.set_rules(rules)\n  }\n\n  set_messages(messages: Message) {\n    this.model.set_messages(messages)\n  }\n\n  set_error_class(error_class: string) {\n    this.error_class = error_class\n  }\n\n  set_valid_class(valid_class: string) {\n    this.valid_class = valid_class\n  }\n\n  set_initial_error_view(initial_error_view: boolean) {\n    this.initial_error_view = initial_error_view\n  }\n\n  set_on_validate(func: Function) {\n    if ($.isFunction(func)) {\n      this.on_validate = func\n    }\n  }\n\n  set_on_success(func: Function) {\n    if ($.isFunction(func)) {\n      this.on_success = func\n    }\n  }\n\n  set_on_error(func: Function) {\n    if ($.isFunction(func)) {\n      this.on_error = func\n    }\n  }\n\n  set_event() {\n    const that = this\n    this.model\n      .get_wrap()\n      .find('input,select,textarea')\n      .off('keydown.inputfollow')\n      .on('keydown.inputfollow', function() {\n        that.validate_before($(this))\n      })\n      .off(\n        'click.inputfollow focus.inputfollow change.inputfollow keyup.inputfollow'\n      )\n      .on(\n        'click.inputfollow focus.inputfollow change.inputfollow keyup.inputfollow',\n        function() {\n          that.validate($(this))\n        }\n      )\n  }\n\n  validate_before(target: JQuery) {\n    if (!target.data('is_inputfollow') && target.is(':focus')) {\n      return\n    }\n\n    target\n      .data('before_val', target.val() + '')\n      .data(\n        'caret_pos',\n        inputFollow.get_caret_pos(target.get(0) as HTMLInputElement)\n      )\n  }\n\n  validate(target: JQuery) {\n    if (!target.data('is_inputfollow')) {\n      return\n    }\n\n    this.validate_all()\n  }\n\n  validate_all() {\n    this.model.set_errors(0)\n    this.model.set_error_mes('')\n\n    $.each(this.model.get_target(), (key: string, target) => {\n      const rules = this.model.get_rules()\n      if (!rules.hasOwnProperty(key)) {\n        return\n      }\n      const rule = rules[key]\n      const sub_target_rules: RuleOption[] = []\n\n      let flag = true\n      let check = false\n      let error: any = null\n\n      let hasErrorTarget = false\n      const err_id =\n        'inputfollow-error-' + this.index + '-' + key.replace('[]', '')\n      const err_target = this.model\n        .get_wrap()\n        .find('.inputfollow-error')\n        .filter(`[data-target=\"${key}\"]`)\n      if (err_target.length) {\n        hasErrorTarget = true\n        err_target.attr('id', err_id)\n      }\n\n      if (target.length) {\n        if (Array.isArray(rule)) {\n          rule.map(r => {\n            var tcheck = inputFollow.check_rules(r)\n            check = check || tcheck ? IS_VALID : IS_LIMIT\n\n            if (tcheck === IS_VALID) {\n              sub_target_rules.push(r)\n            }\n\n            if (!this.check_handler(r, target)) {\n              flag = false\n\n              if (error === null) {\n                const messages = this.model.get_messages()\n                if (\n                  Object.prototype.hasOwnProperty.call(messages, key) &&\n                  Object.prototype.hasOwnProperty.call(messages[key], r.type)\n                ) {\n                  error = messages[key][r.type]\n                }\n              }\n            }\n          })\n        } else {\n          check = inputFollow.check_rules(rule)\n          flag = this.check_handler(rule, target)\n\n          if (check === IS_VALID) {\n            sub_target_rules.push(rule)\n          }\n\n          const messages = this.model.get_messages()\n          if (\n            Object.prototype.hasOwnProperty.call(messages, key) &&\n            Object.prototype.hasOwnProperty.call(messages[key], rule.type)\n          ) {\n            error = messages[key][rule.type]\n          }\n        }\n      }\n\n      if (check === IS_VALID) {\n        const targets = this.model.get_target()\n        if (flag) {\n          this.toggle_error_visible(target, targets, sub_target_rules, flag)\n\n          // Remove Error Message\n          if (hasErrorTarget) {\n            $('#' + err_id)\n              .text('')\n              .addClass('inputfollow-error-empty')\n          } else {\n            $('#' + err_id).remove()\n          }\n        } else {\n          // Clear Error Message\n          this.model.increment_errors()\n          if (hasErrorTarget) {\n            $('#' + err_id)\n              .text('')\n              .addClass('inputfollow-error-empty')\n          } else {\n            $('#' + err_id).remove()\n          }\n\n          // Display Error Message\n          if (error !== null) {\n            this.model.push_error_mes(error)\n            if (target.data('is_focused') || this.initial_error_view) {\n              if (hasErrorTarget) {\n                $('#' + err_id)\n                  .removeClass('inputfollow-error-empty')\n                  .text(error)\n              } else {\n                target.eq(0).after(\n                  $('<span>', {\n                    id: err_id,\n                    class: 'inputfollow-error'\n                  }).text(error)\n                )\n              }\n\n              this.toggle_error_visible(target, targets, sub_target_rules, flag)\n            }\n          }\n        }\n      }\n    })\n\n    if ($.isFunction(this.on_validate)) {\n      this.on_validate()\n    }\n  }\n\n  toggle_error_visible(\n    target: JQuery<HTMLElement>,\n    targets: Target,\n    sub_target_rules: RuleOption[],\n    flag: boolean\n  ) {\n    if (flag) {\n      target.addClass(this.valid_class).removeClass(this.error_class)\n    } else {\n      target.removeClass(this.valid_class).addClass(this.error_class)\n    }\n\n    sub_target_rules.map(sv => {\n      if (Array.isArray(sv.with)) {\n        sv.with.map(stv => {\n          if (targets[stv]) {\n            if (flag) {\n              targets[stv]\n                .addClass(this.valid_class)\n                .removeClass(this.error_class)\n            } else {\n              targets[stv]\n                .removeClass(this.valid_class)\n                .addClass(this.error_class)\n            }\n          }\n        })\n      }\n      if (sv.if) {\n        Object.keys(sv.if).map(stv => {\n          if (targets[stv]) {\n            if (flag) {\n              targets[stv]\n                .addClass(this.valid_class)\n                .removeClass(this.error_class)\n            } else {\n              targets[stv]\n                .removeClass(this.valid_class)\n                .addClass(this.error_class)\n            }\n          }\n        })\n      }\n    })\n  }\n\n  get_errors() {\n    return this.model.get_errors()\n  }\n\n  check_handler(rule: RuleOption, target: JQuery): boolean {\n    const handler = inputFollow.get_method(rule.type)\n    if (handler === false) {\n      return true\n    }\n\n    const targets = this.model.get_target()\n\n    if (rule.if) {\n      let flag = true\n\n      Object.keys(rule.if).map(target => {\n        if (\n          !rule.if ||\n          !Object.prototype.hasOwnProperty.call(rule.if, target)\n        ) {\n          return\n        }\n\n        const value = rule.if[target]\n        if (targets.hasOwnProperty(target)) {\n          const t = targets[target]\n          let compare\n          if (t.is('[type=\"radio\"]') || t.is('[type=\"checkbox\"]')) {\n            compare = t.filter(':checked').val()\n          } else {\n            compare = targets[target].val()\n          }\n          if (compare == value) {\n            flag = false\n          }\n        }\n      })\n\n      if (flag === true) {\n        return true\n      }\n    }\n\n    if (!rule.mode && !rule.with) {\n      return handler(target)\n    }\n\n    if (rule.mode && rule.with) {\n      if (rule.mode.toLowerCase() === 'or') {\n        let flag = handler(target)\n\n        rule.with.map(t => {\n          if (targets.hasOwnProperty(t)) {\n            flag = flag || handler(targets[t])\n          }\n        })\n\n        return flag\n      } else if (rule.mode.toLowerCase() === 'and') {\n        let flag = handler(target)\n\n        rule.with.map(t => {\n          if (targets.hasOwnProperty(t)) {\n            flag = flag && handler(targets[t])\n          }\n        })\n\n        return flag\n      }\n    }\n\n    return true\n  }\n\n  reset() {\n    this.model.reset_rules()\n    this.set_event()\n    this.validate_all()\n  }\n}\n","import { Rule, Target, Message, RuleOption } from './types'\n\nexport default class InputFollowModel {\n  private wrap: JQuery\n  private errors: number = 0\n  private error_mes: string = ''\n  private rules: Rule = {}\n  private target: Target = {}\n  private messages: Message = {}\n\n  constructor(wrap: JQuery) {\n    this.wrap = wrap\n  }\n\n  get_wrap(): JQuery {\n    return this.wrap\n  }\n\n  get_target(): Target {\n    return this.target\n  }\n\n  set_rules(rules: Rule): void {\n    this.rules = { ...rules }\n\n    this.reset_rules()\n  }\n  get_rules(): Rule {\n    return this.rules\n  }\n\n  set_errors(errors: number) {\n    this.errors = errors\n  }\n  increment_errors(increment: number = 1) {\n    this.errors += increment\n  }\n  get_errors(): number {\n    return this.errors\n  }\n\n  set_error_mes(error_mes: string): void {\n    this.error_mes = error_mes\n  }\n  push_error_mes(error_mes: string): void {\n    this.error_mes += '\\n' + error_mes\n  }\n  get_error_mes(): string {\n    return this.error_mes\n  }\n\n  set_messages(messages: Message): void {\n    this.messages = { ...messages }\n  }\n  get_messages(): Message {\n    return this.messages\n  }\n\n  reset_rules(): void {\n    this.wrap.find('input, select, textarea').off('focus.inputfollow_focus')\n\n    for (const key in this.rules) {\n      const parent: JQuery = this.filter_target(key)\n      this.target[key] = this.initialize_target(parent)\n\n      if (Array.isArray(this.rules[key])) {\n        for (\n          let i = 0, l = (this.rules[key] as RuleOption[]).length;\n          i < l;\n          i += 1\n        ) {\n          const targetRule = this.rules[key][i]\n          this.reset_rule(targetRule, parent)\n        }\n      } else {\n        const targetRule = this.rules[key] as RuleOption\n        this.reset_rule(targetRule, parent)\n      }\n    }\n  }\n\n  reset_rule(targetRule: RuleOption, parent: JQuery) {\n    if (Array.isArray(targetRule.with)) {\n      targetRule.with.map(target => {\n        this.target[target] = this.initialize_target(\n          this.filter_target(target),\n          parent\n        )\n      })\n    }\n    if (targetRule.if) {\n      Object.keys(targetRule.if).map(target => {\n        this.target[target] = this.initialize_target(\n          this.filter_target(target),\n          parent\n        )\n      })\n    }\n  }\n\n  enable_focus_flag(target: JQuery): any {\n    return (): void => {\n      target.data('is_focused', true)\n    }\n  }\n\n  filter_target(key: string): JQuery {\n    return this.wrap\n      .find('input,select,textarea')\n      .filter((index: number, element: Element): boolean => {\n        const pattern = new RegExp('^' + key + '\\\\[?', 'i')\n        return pattern.test(element.getAttribute('name') || '')\n      })\n  }\n\n  initialize_target(target: JQuery, parent: JQuery | null = null): JQuery {\n    const focusTarget: JQuery = parent !== null ? (parent as JQuery) : target\n\n    return target\n      .data('is_inputfollow', true)\n      .data('is_focused', false)\n      .off('focus.inputfollow_focus')\n      .on('focus.inputfollow_focus', this.enable_focus_flag(focusTarget))\n  }\n}\n","import { RuleFlag, RuleOption } from './types'\nimport { IS_LIMIT, IS_VALID } from './const'\nimport InputFollowMethod from './InputFollowMethod'\n\nexport default class InputFollow {\n  private index = 0\n  private collection: InputFollowMethod[] = []\n  private rules: RuleFlag = {\n    required: IS_VALID,\n    email: IS_VALID,\n    number: IS_LIMIT,\n    code: IS_LIMIT\n  }\n\n  get_index(): number {\n    const index = this.index\n    this.index += 1\n    return index\n  }\n\n  push_collection(index: number, method: InputFollowMethod) {\n    this.collection[index] = method\n  }\n  get_collection(index: number): InputFollowMethod {\n    return this.collection[index]\n  }\n\n  check_rules(rule: RuleOption): boolean {\n    if (this.rules.hasOwnProperty(rule.type)) {\n      return this.rules[rule.type]\n    }\n\n    return false\n  }\n\n  get_method(key: string): any {\n    switch (key) {\n      case 'required':\n        return this.check_method_required.bind(this)\n      case 'email':\n        return this.check_method_email.bind(this)\n      case 'number':\n        return this.check_method_number.bind(this)\n      case 'code':\n        return this.check_method_code.bind(this)\n    }\n\n    return false\n  }\n\n  /**\n   * Check required\n   * @param target\n   * @return boolean\n   */\n  check_method_required(target: JQuery): boolean {\n    if (target.is('[type=\"radio\"]') || target.is('[type=\"checkbox\"]')) {\n      return target.filter(':checked').length > 0\n    }\n\n    return target.val() !== ''\n  }\n\n  /**\n   * Check email\n   * @param target\n   * @return boolean\n   */\n  check_method_email(target: JQuery): boolean {\n    return /^([a-z0-9_]|-|\\.|\\+)+@(([a-z0-9_]|-)+\\.)+[a-z]{2,6}$/.test(\n      target.val() + ''\n    )\n  }\n\n  check_method_number(target: JQuery): boolean {\n    let val: string = target.val() + ''\n    const org: string = val\n\n    // Full width to Half width characters\n    val = val.replace(/[Ａ-Ｚａ-ｚ０-９]/g, s =>\n      String.fromCharCode(s.charCodeAt(0) - 0xfee0)\n    )\n\n    // Remove text except for numbers\n    val = val.replace(/[^0-9]/g, '')\n\n    if (val !== org) {\n      target.val(val)\n\n      if (target.is(':focus')) {\n        this.change_caret_pos(target, val)\n      }\n    }\n\n    return true\n  }\n\n  check_method_code(target: JQuery): boolean {\n    let val: string = target.val() + ''\n    const org: string = val\n\n    // Full width to Half width characters\n    val = val.replace(/[Ａ-Ｚａ-ｚ０-９]/g, s =>\n      String.fromCharCode(s.charCodeAt(0) - 0xfee0)\n    )\n\n    // Convert dash\n    val = val.replace(/[−ーー―]/g, '-')\n\n    // Remove text except for numbers\n    val = val.replace(/[^0-9]/g, '')\n\n    if (val !== org) {\n      target.val(val)\n\n      if (target.is(':focus')) {\n        this.change_caret_pos(target, val)\n      }\n    }\n\n    return true\n  }\n\n  change_caret_pos(target: JQuery, val: string) {\n    const pos =\n      val.length - target.data('before_val').length + target.data('caret_pos')\n\n    if ((document as any).selection !== undefined) {\n      const range = (target.get(0) as any).createTextRange()\n      range.move('character', pos)\n      range.select()\n    } else {\n      try {\n        ;(target.get(0) as HTMLInputElement).setSelectionRange(pos, pos)\n      } catch (e) {\n        // Cannot change caret pos\n      }\n    }\n  }\n\n  get_caret_pos(target: HTMLInputElement): number {\n    if ((document as any).selection !== undefined) {\n      const range = (document as any).selection.createRange()\n      let tmp = document.createRange() as any\n\n      try {\n        ;(tmp as any).moveToElementText(target)\n        tmp.setEndPoint('StartToStart', range)\n      } catch (e) {\n        tmp = (target as any).createTextRange()\n        tmp.setEndPoint('StartToStart', range)\n      }\n\n      return target.value.length - tmp.text.length\n    } else {\n      try {\n        return target.selectionStart || 0\n      } catch (e) {\n        return 0\n      }\n    }\n  }\n\n  split_related_rules(rule: string): string[] {\n    return rule\n      .split('_and_')\n      .join('_or_')\n      .split('_or_')\n      .slice(1)\n  }\n}\n"],"sourceRoot":""}